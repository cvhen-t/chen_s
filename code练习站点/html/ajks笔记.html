<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    AJAX请求步骤:
    1. 创建请求对象

    var xhr = new XMLHttpRequest();

    2. 设置请求参数，打开与服务器连接

    xhr.open("get", "http://localhost/api/ajaxtest", true);

    3. 向服务器发送请求

    xhr.send(null);

    4. 处理服务器响应数据
    * onreadystatechange事件==>可以更细致的监控获取数据状态，比如等待是的进度条：验证码状态是设置：
    只要readyState 属性的值由一个值变成另一个值，都会触发一次`readystatechange` 事件。因此必须在调用`open()`之前指定`onreadystatechange`事件处理程序才能捕获到值的改变。
    readyState：
    - 0 － （未初始化）尚未调用open()方法。
    - 1 － （启动）已经调用open()方法，但尚未调用send()方法。
    - 2 － （发送）send()方法执行完成，但尚未接收到响应。
    - 3 － （接收）已经接收到部分响应数据。
    - 4 － （完成）响应内容解析完成，可以在客户端调用了


    * onload事件：相当于onreadystatechange事件 状态码等于4的时候的状态。

    xhr对象属性&方法：
    1、open(type,url,async) ==>: 建立与服务器的连接 : type：请求的类型:

    * get
    * post
    * put/patch
    * delete
    - url：数据请求的地址（API地址，接口地址），一般由后端开发人员提供

    > 注意：当前页面地址与API地址必须**同域**（同源策略）

    * 同域：协议，域名，端口三者一致，否则为跨域

    - async：是否异步发送请求，默认为true

    + 同步：按步骤顺序执行，前面的代码执行完后，后面的代码才会执行

    > 做完前一件事情, 才能下一件事情（排队）

    + 异步：与其他操作同时执行，也叫并发（图片加载，ajax请求）

    2、`send(data)`: 向服务器发送请求
    data：可选参数，post请求时才生效，表示发请求时传送的数据字符串。===>post请求设置
    post利用请求头设置POST提交数据格式：

    xhr.setRequestHeader('content-type',"application/x-www-form-urlencoded");
    get请求的数据写在api地址后

    `responseText`：保存服务器返回的数据（从服务器返回的数据是“**字符串**”）。




</body>

</html>