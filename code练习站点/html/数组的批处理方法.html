<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

// 15.ES5数组方法
//                 * Array.isArray()   判断是否为数组，返回Boolean
//                 * indexOf(keyword,start)/lastIndexOf()
//                     * start 查询起始索引值，默认为0
//                 * 迭代（遍历）方法
//                     * forEach()     没有返回值
//                     * map()         返回数组
//                     * filter()      返回数组
//                     * some()        返回Boolean
//                     * every()       返回Boolean
//                 * 归并方法
//                     * reduce(fn,initVal)/reduceRight(fn,initVal)

    // forEach() 用来遍历数组。可以用方法对数组的每个元素执行一次给定的函数。 没有返回值

   arr.forEach(
                //对每个元素执行的操作函数
                // item 当前处理的元素(必选)
                // index 数组中正在处理的当前元素的索引（可选）
                // arr forEach() 方法正在操作的数组（可选）
                function (item, index, arr) {
                    console.log(item, index, arr);
                    arr[index] = item * 2;
                    // console.log(this);

                    // this已经绑定为john，将每一个元素都加入到john.money
                    this.money += item;
                }

   )



//    * every() 方法测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值。 */

var arr = [1, 2, 3.5, 4, 5];
            /* 看看是否每一个元素都是正数 */
            var allPositive = arr.every(function (item) {
                return item > 0;
            });
            //true 每个元素都是正数 false并非每个元素都是正数


// /* some() 方法测试数组中是不是至少有1个元素通过了被提供的函数测试。它返回的是一个Boolean类型的值。 */
var arr = [1, 2, 3.5, 4, 5];
            判断arr中是否有至少一个小数
            var hasXiaoshu = arr.some(function (item,index,arr) {
                return item % 1 > 0
            })
            console.log(hasXiaoshu);//true


//   /* 映射：map()  可以进行遍历数组 并且可以返回值来创建一个新数组，其结果是该数组中的每个元素是调用一次提供的函数后的返回值。 */
            var arr = [1, 2, 3, 4, 5];
            // 得到每个元素都翻倍后的新数组
            var newArr = arr.map(function (item,index,arr) {
                return item * 2;
            });
            console.log(newArr);

//  /* filter 过滤 filter() 方法创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。 */
 var arr = [1, 2, 3, 4, 5];
            // 筛选出arr中的所有奇数
            var newArr = arr.filter(function (item) {
                // 过滤条件（是奇数）
                return item % 2 === 1
            })
            console.log(newArr);//[1 3 5]

              // 归并方法
        // reduce(fn,initVal)
        // 计算所有商品的价格总和
        var total = data.reduce(function(prev,item){
            // prev: 前一次迭代的返回值（第一次时为初始值）
            console.log('prev=',prev,item.price)
            return prev+item.price;
        },0);

        console.log('商品总价=',total);


    </script>
</body>
</html>